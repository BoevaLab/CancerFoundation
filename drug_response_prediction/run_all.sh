#!/bin/bash

items=(123631 20635522 10341154 11640390 6253 9956222 82146 46931012 637858 24825971 1401 57339144 44462760 10451420 25167777 24889392 11667893 160355 3463933 42642645 5328940 10127622 9813758 5746 5459322 11485656 3218 10184653 10200390 44819241 5311510 159324 5289247 6710780 9952773 3005532 44632017 9967941 46844147 6445562 6918638 11316960 176167 25222038 24756910 6918289 7251185 16722836 16760646 9549184 53340664 2733526 31703 11404337 46930998 10390396 176870 76044 46843772 5329102 16038120 24894414 54676905 24776445 300471 46943432 44182295 9810884 10074640 5330286 49806720 54685215 11617559 9910224 6753378 4993 11626927 11626560 11634725 46885626 5494449 9863776 3062316 65110 10459196 56962337 9826528 44143370 11455910 9911830 16747388 6852167 16725726 5384616 44551660 53302361 10172943 11713159 5208 46907787 448013 11647372 148124 5113032 126565 17755052 5280757 560326 46191454 25022668 104842 216239 49836027 11373846 446378 56965967 11676786 44450571 462382 11609586 46224516 23725625 10461815 66577006 644241 5460769 11338033 46883536 85668777 644215 10196499 216326 8249 9884685 156422 444795 5311 11152667 9858940 24978538 9956119 3385 11707110 6505803 6450551 6445533 5311497 6918848 5394 84691 9907093 36314 4263900 9931953 10113978 9868037 16095342 25124816 11977753 11960529 25195352 44137675 11844351 521106 5327091 71271629 2375 3796 51371303 10302451 24826799 16720766 10109823 10384072 208908 387447 11433190 6914657 5717801 10027278 42640 11493598 176158 24180719 6450816 11625818 60750 11624601 25126798 49821040 9903786 9874913 78243717 447912 53394750 44224160 126941 24951314 2314623 25102847 9943465 11327430 704473 24772860 2726824 25257557 9826308 11364421 4261 16663089 5278396 36462 6918454 9938202 9914412 10096043 5291 24785538 11754511 11282283 25262965 10077147 11178236)

# Get the number of items in the list
num_items=${#items[@]}

# Iterate through each item
for ((i = 0; i < num_items; i++)); do
    current_item=${items[$i]}
    echo "Current drug: $current_item"

    # Create a temporary array excluding the current item
    temp_items=("${items[@]:0:i}" "${items[@]:((i + 1))}")

    # Get the number of items in the temporary array
    temp_num_items=${#temp_items[@]}

    # Generate a random index for the temporary array
    random_index=$((RANDOM % temp_num_items))

    # Select a random item from the temporary array
    random_item=${temp_items[$random_index]}

    python drp.py --embedding_path "./data/embedding/CancerGPT_embedding.csv" --test_drug "$current_item" --val_drug "$random_item" --gpu_id 0
    python drp.py --embedding_path "./data/embedding/gene_expression.csv" --test_drug "$current_item" --val_drug "$random_item" --gpu_id 0
    python drp.py --embedding_path "./data/embedding/scFoundation_embedding.csv" --test_drug "$current_item" --val_drug "$random_item" --gpu_id 0
done